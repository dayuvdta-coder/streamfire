<script>
    const originalWarn = console.warn;
    console.warn = (...args) => {
        if (args[0] && typeof args[0] === 'string' && args[0].includes('cdn.tailwindcss.com')) return;
        originalWarn(...args);
    };

    window.t = {
        delete_confirm_title: "<%= t.delete_confirm_title %>",
        delete_confirm_text: "<%= t.delete_confirm_text %>",
        delete_confirm_btn: "<%= t.delete_confirm_btn %>",
        delete_cancel_btn: "<%= t.delete_cancel_btn %>",
        delete_success: "<%= t.delete_success %>",
        delete_success_text: "<%= t.delete_success_text %>",
        copy_success: "<%= t.copy_success %>",
        copy_text: "<%= t.copy_text %>"
    };
</script>
<div id="mobile-overlay" class="fixed inset-0 bg-black/50 z-30 hidden md:hidden"></div>

<div id="sidebar"
    class="fixed inset-y-0 left-0 w-64 bg-white border-r-2 border-black flex flex-col z-40 transform -translate-x-full md:translate-x-0 transition-transform duration-300">
    <div class="h-16 flex items-center justify-between px-6 border-b-2 border-black bg-yellow-400">
        <div class="flex items-center gap-3">
            <div
                class="w-10 h-10 border-2 border-black bg-white flex items-center justify-center shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] overflow-hidden">
                <img src="/img/logo.png" alt="Logo" class="w-full h-full object-cover">
            </div>
            <span class="font-bold text-lg tracking-tight text-black">STREAMFIRE</span>
        </div>
        <button id="close-sidebar" class="md:hidden text-black hover:text-red-500 transition-colors">
            <i class="fas fa-times text-xl"></i>
        </button>
    </div>

    <nav class="p-4 space-y-2 flex-1 overflow-y-auto bg-white">
        <div class="text-xs font-bold text-black uppercase px-3 mb-2 tracking-widest border-b-2 border-black pb-1">Menu
        </div>

        <a href="/"
            class="flex items-center gap-3 px-3 py-3 border-2 border-black text-sm font-bold transition-all group shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none <%= path === '/' ? 'bg-cyan-400' : 'bg-white hover:bg-cyan-100' %>">
            <i class="fas fa-grid-2 w-5 text-center text-black"></i>
            <span class="text-black">
                <%= t.dashboard %>
            </span>
        </a>

        <a href="/gallery"
            class="flex items-center gap-3 px-3 py-3 border-2 border-black text-sm font-bold transition-all group shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none <%= path === '/gallery' ? 'bg-pink-400' : 'bg-white hover:bg-pink-100' %>">
            <i class="fas fa-photo-video w-5 text-center text-black"></i>
            <span class="text-black">
                <%= t.gallery %>
            </span>
        </a>

        <div class="text-xs font-bold text-black uppercase px-3 mt-6 mb-2 tracking-widest border-b-2 border-black pb-1">
            System</div>

        <a href="/donation"
            class="flex items-center gap-3 px-3 py-3 border-2 border-black text-sm font-bold transition-all group shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none <%= path === '/donation' ? 'bg-lime-400' : 'bg-white hover:bg-lime-100' %>">
            <i class="fas fa-heart w-5 text-center text-black"></i>
            <span class="text-black">
                <%= t.support %>
            </span>
        </a>

        <a href="/logout"
            class="flex items-center gap-3 px-3 py-3 border-2 border-black text-sm font-bold transition-all group shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none bg-white hover:bg-red-400 mt-auto">
            <i class="fas fa-sign-out-alt w-5 text-center text-black"></i>
            <span class="text-black">
                <%= t.logout %>
            </span>
        </a>
    </nav>

    <div class="p-4 border-t-2 border-black bg-yellow-50 cursor-pointer hover:bg-yellow-100 transition-colors"
        onclick="window.location.href='/profile'">
        <div class="flex items-center gap-3">
            <% if (user && user.avatar) { %>
                <img src="/uploads/avatars/<%= user.avatar %>" alt="Avatar" class="w-full h-full object-cover">
                <% } else { %>
                    <div class="w-full h-full flex items-center justify-center bg-white">
                        <img src="/img/logo.png" alt="Avatar" class="w-full h-full object-cover">
                    </div>
                    <% } %>
        </div>
        <div class="flex-1 overflow-hidden">
            <div class="text-sm font-bold text-black truncate">
                <%= user ? user.username : 'GUEST' %>
            </div>
            <div class="text-[10px] text-black font-mono truncate">Administrator</div>
        </div>
    </div>
</div>
</div>